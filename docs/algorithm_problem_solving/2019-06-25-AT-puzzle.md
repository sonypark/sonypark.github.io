2019년 6월 25일

# 백준 1525 - 퍼즐 (BFS) {docsify-ignore-all}

> 출처: https://www.acmicpc.net/problem/1525

## 문제

3*3 표에 다음과 같이 수가 채워져 있다. 오른쪽 아래 가장 끝 칸은 비어 있는 칸이다.

1|	2|	3|	
---|---|---|
4|	5|	6|
7|	8|	|


어떤 수와 인접해 있는 네 개의 칸 중에 하나가 비어 있으면, 수를 그 칸으로 이동시킬 수가 있다. 물론 표 바깥으로 나가는 경우는 불가능하다. 우리의 목표는 초기 상태가 주어졌을 때, 최소의 이동으로 위와 같은 정리된 상태를 만드는 것이다.

#### 입력

세 줄에 걸쳐서 표에 채워져 있는 아홉 개의 수가 주어진다. 한 줄에 세 개의 수가 주어지며, 빈 칸은 0으로 나타낸다.

#### 출력

첫째 줄에 최소의 이동 횟수를 출력한다. 이동이 불가능한 경우 -1을 출력한다.

#### 예제 입력1

```
1 0 3
4 2 5
7 8 6
```

#### 예제 출력1

```
3
```

#### 예제 입력2

```
3 6 0
8 1 2
7 4 5
```

#### 예제 출력2

```
-1
```

## 접근 방법

- 3 x 3 배열(`a`)에 문제에서 주어진 값을 입력받는다.

    - 이 때 빈칸(`0`)은 `9`로 치환한다.

    - 3 x 3 배열에 담긴 퍼즐 숫자를 9자리 정수로 변환한다.

- 퍼즐 상태를 저장할 dist를 딕셔너리 구조(key,value)로 만든다.

    - `key`에는 현재 퍼즐 상태, `value`에는 지금까지 이동한 횟수를 담는다.

- 큐(Queue)에 9자리 정수를 push하고, pop한 숫자를 문자열로 변환한다.

    - 변환한 문자열에서 빈칸(`9`)의 위치를 찾는다.
    
    - '9'의 위치를 k라 하고, 3*3 퍼즐의 각 좌표를 (x, y)라고 할 때
    
    - x = k/3, y = k%3으로 나타낼 수 있다.

- 9를 상하좌우로 이동하며 원래 있던 숫자와 위치를 바꾼다.

- 이동하는 도중 펴즐 상태가 123456789 가 되면 그 때까지 이동 횟수를 출력한다.

- 모든 경우의 수에서 123456789 이 되지 않는 경우 -1 을 리턴한다.

## 내 풀이

```python
import sys
from collections import deque

q = deque()
dist = dict()

a = [list(map(int, sys.stdin.readline().split())) for _ in range(3)]
m = 0

for i in range(3):
    for j in range(3):
        n = a[i][j]
        if n == 0:
            n = 9
        m = m*10 + n

def bfs():
    q.append(m)
    dist[m] = 0

    while q:
        d = q.popleft()
        if d == 123456789:
            return dist[d]
        s = str(d)
        k = s.find('9')
        y,x = k//3, k%3

        for dy, dx in (-1,0), (1,0), (0,-1), (0,1):
            ny, nx = y+dy, x+dx
            if nx < 0 or nx >= 3 or ny < 0 or ny >= 3: continue
            nk = ny*3 + nx
            ns = list(s)
            ns[k], ns[nk] = ns[nk], ns[k]
            nd = int(''.join(ns))
            if dist.get(nd) is None:
                dist[nd] = dist[d]+1
                q.append(nd)
    return -1

print(bfs())
```


## 느낀점

- 어려웠다.

- 다른 사람의 풀이를 참고하여 이틀에 걸쳐 풀었다.

- 비슷한 문제를 많이 풀어보며 풀이 방식에 익숙해져야겠다.
